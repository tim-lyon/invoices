(function(e){function t(t){for(var i,l,a=t[0],r=t[1],u=t[2],d=0,b=[];d<a.length;d++)l=a[d],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&b.push(c[l][0]),c[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);s&&s(t);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==c[r]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},c={app:0},o=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=r;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"3cd6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7864"),c=(n("3cd6"),n("7a23")),o={id:"app"},l={key:0,style:{height:"100%"}},a=Object(c["o"])("i",{class:"el-icon-back"},null,-1),r=Object(c["n"])(" Sign out "),u=Object(c["o"])("i",{class:"el-icon-copy-document"},null,-1),s=Object(c["n"])(" Copy data "),d=Object(c["o"])("i",{class:"el-icon-setting"},null,-1),b=Object(c["n"])(" Settings "),O=Object(c["o"])("i",{class:"el-icon-user"},null,-1),f=Object(c["n"])(" Clients "),j=Object(c["o"])("i",{class:"el-icon-tickets"},null,-1),p=Object(c["n"])(" Invoices "),m={key:1},h=Object(c["n"])(" Hello! "),v=Object(c["o"])("br",null,null,-1),g=Object(c["n"])(" To start making invoices, sign in with Google Drive "),y=Object(c["o"])("br",null,null,-1),k=Object(c["n"])("Sign in");function I(e,t,n,i,I,C){var V=Object(c["O"])("el-menu-item"),_=Object(c["O"])("el-menu"),w=Object(c["O"])("el-aside"),S=Object(c["O"])("invoice-settings"),D=Object(c["O"])("invoice-clients"),x=Object(c["O"])("invoices"),F=Object(c["O"])("el-container"),U=Object(c["O"])("el-main"),N=Object(c["O"])("printable-invoice"),P=Object(c["O"])("el-button");return Object(c["F"])(),Object(c["k"])("div",o,[I.isSignedIn?(Object(c["F"])(),Object(c["k"])("div",l,[Object(c["o"])(F,{style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(U,{class:"app",style:{padding:"0",height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(F,{style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(w,{width:"200px",style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(_,{"default-active":"3",style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(V,{onClick:C.signout,index:"4"},{default:Object(c["db"])((function(){return[a,r]})),_:1},8,["onClick"]),Object(c["o"])(V,{onClick:C.copyData,index:"5"},{default:Object(c["db"])((function(){return[u,s]})),_:1},8,["onClick"]),Object(c["o"])(V,{onClick:t[1]||(t[1]=function(e){return I.navSection="settings"}),index:"1"},{default:Object(c["db"])((function(){return[d,b]})),_:1}),Object(c["o"])(V,{onClick:t[2]||(t[2]=function(e){return I.navSection="clients"}),index:"2"},{default:Object(c["db"])((function(){return[O,f]})),_:1}),Object(c["o"])(V,{onClick:t[3]||(t[3]=function(e){return I.navSection="invoices"}),index:"3"},{default:Object(c["db"])((function(){return[j,p]})),_:1})]})),_:1})]})),_:1}),Object(c["o"])(F,null,{default:Object(c["db"])((function(){return["settings"===I.navSection?(Object(c["F"])(),Object(c["k"])(S,{key:0,state:I.state},null,8,["state"])):Object(c["l"])("",!0),"clients"===I.navSection?(Object(c["F"])(),Object(c["k"])(D,{key:1,onSaveClient:C.saveClient,state:I.state},null,8,["onSaveClient","state"])):Object(c["l"])("",!0),"invoices"===I.navSection?(Object(c["F"])(),Object(c["k"])(x,{key:2,onSaveInvoice:C.saveInvoice,onDeleteInvoice:C.deleteInvoice,onPrintInvoice:C.print,state:I.state},null,8,["onSaveInvoice","onDeleteInvoice","onPrintInvoice","state"])):Object(c["l"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["o"])(N,{state:I.state,invoice:I.printInvoice},null,8,["state","invoice"])])):(Object(c["F"])(),Object(c["k"])("div",m,[Object(c["o"])(F,null,{default:Object(c["db"])((function(){return[Object(c["o"])(U,{style:{"margin-top":"60px","text-align":"center",color:"#ccc","line-height":"3em"}},{default:Object(c["db"])((function(){return[h,v,g,y,Object(c["o"])(P,{onClick:C.signin},{default:Object(c["db"])((function(){return[k]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]))])}var C=n("d4ec"),V=(n("c740"),n("a434"),n("b0c0"),Object(c["hb"])("data-v-43609eaa"));Object(c["I"])("data-v-43609eaa");var _=Object(c["o"])("div",{class:"card-header"},[Object(c["o"])("span",null,"Business details")],-1),w=Object(c["o"])("div",{class:"card-header"},[Object(c["o"])("span",null,"Payment details")],-1);Object(c["G"])();var S=V((function(e,t,n,i,o,l){var a=Object(c["O"])("el-input"),r=Object(c["O"])("el-form-item"),u=Object(c["O"])("el-form"),s=Object(c["O"])("el-card"),d=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(d,null,{default:V((function(){return[Object(c["o"])(s,{class:"box-card"},{header:V((function(){return[_]})),default:V((function(){return[Object(c["o"])(u,{"label-width":"120px"},{default:V((function(){return[Object(c["o"])(r,{label:"Name"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.settings.name=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Business name"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.businessName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.settings.businessName=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Address"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.settings.address=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Email"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.settings.email=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Phone"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.settings.phone=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(c["o"])(s,{class:"box-card"},{header:V((function(){return[w]})),default:V((function(){return[Object(c["o"])(u,{"label-width":"120px"},{default:V((function(){return[Object(c["o"])(r,{label:"Name"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.name,"onUpdate:modelValue":t[6]||(t[6]=function(e){return l.settings.paymentDetails.name=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Sort code"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.sortCode,"onUpdate:modelValue":t[7]||(t[7]=function(e){return l.settings.paymentDetails.sortCode=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Account number"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.accountNumber,"onUpdate:modelValue":t[8]||(t[8]=function(e){return l.settings.paymentDetails.accountNumber=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"IBAN"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.iban,"onUpdate:modelValue":t[9]||(t[9]=function(e){return l.settings.paymentDetails.iban=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Swift"},{default:V((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.swift,"onUpdate:modelValue":t[10]||(t[10]=function(e){return l.settings.paymentDetails.swift=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),D={name:"InvoiceSettings",props:{state:Object},computed:{settings:function(){return this.state.settings}}};n("c632");D.render=S,D.__scopeId="data-v-43609eaa";var x=D,F=(n("ac1f"),n("841c"),Object(c["hb"])("data-v-5753d4a3"));Object(c["I"])("data-v-5753d4a3");var U=Object(c["n"])("New client"),N=Object(c["n"])("Edit"),P=Object(c["n"])("Delete"),E={class:"dialog-footer"},z=Object(c["n"])("Cancel"),A=Object(c["n"])("Confirm");Object(c["G"])();var T=F((function(e,t,n,i,o,l){var a=Object(c["O"])("el-button"),r=Object(c["O"])("el-row"),u=Object(c["O"])("el-table-column"),s=Object(c["O"])("el-input"),d=Object(c["O"])("el-table"),b=Object(c["O"])("el-form-item"),O=Object(c["O"])("el-form"),f=Object(c["O"])("el-dialog"),j=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(j,null,{default:F((function(){return[Object(c["o"])(r,{justify:"end"},{default:F((function(){return[Object(c["o"])(a,{type:"primary",onClick:l.addClient},{default:F((function(){return[U]})),_:1},8,["onClick"])]})),_:1}),Object(c["o"])(d,{data:l.tableData,style:{width:"100%"}},{default:F((function(){return[Object(c["o"])(u,{prop:"company",label:"Company",width:"180"}),Object(c["o"])(u,{prop:"name",label:"Name",width:"180"}),Object(c["o"])(u,{prop:"email",label:"Email"}),Object(c["o"])(u,{prop:"phone",label:"Phone"}),Object(c["o"])(u,{prop:"address",label:"Address"}),Object(c["o"])(u,{align:"right"},{header:F((function(){return[Object(c["o"])(s,{modelValue:o.search,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.search=e}),size:"mini",placeholder:"Type to search"},null,8,["modelValue"])]})),default:F((function(e){return[Object(c["o"])(a,{size:"mini",onClick:function(t){return l.handleEdit(e.$index,e.row)}},{default:F((function(){return[N]})),_:2},1032,["onClick"]),Object(c["o"])(a,{size:"mini",type:"danger",onClick:function(t){return l.handleDelete(e.$index,e.row)}},{default:F((function(){return[P]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(c["o"])(f,{title:"Client details",modelValue:o.dialogVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.dialogVisible=e}),width:"50%"},{footer:F((function(){return[Object(c["o"])("span",E,[Object(c["o"])(a,{onClick:l.cancelEdit},{default:F((function(){return[z]})),_:1},8,["onClick"]),Object(c["o"])(a,{type:"primary",onClick:l.confirmEdit},{default:F((function(){return[A]})),_:1},8,["onClick"])])]})),default:F((function(){return[Object(c["o"])(O,{"label-width":"120px",size:"small"},{default:F((function(){return[Object(c["o"])(b,{label:"Company"},{default:F((function(){return[Object(c["o"])(s,{modelValue:o.editClient.company,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.editClient.company=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Name"},{default:F((function(){return[Object(c["o"])(s,{modelValue:o.editClient.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.editClient.name=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Email"},{default:F((function(){return[Object(c["o"])(s,{modelValue:o.editClient.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.editClient.email=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Phone"},{default:F((function(){return[Object(c["o"])(s,{modelValue:o.editClient.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.editClient.phone=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Address"},{default:F((function(){return[Object(c["o"])(s,{modelValue:o.editClient.address,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.editClient.address=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})}));n("5319"),n("d3b7"),n("25f0"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("4de4"),n("caad"),n("2532");function $(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var J=function e(){Object(C["a"])(this,e),this.id=$(),this.company="",this.name="",this.email="",this.phone="",this.address=""},M={name:"InvoiceClients",props:{state:Object},data:function(){return{dialogVisible:!1,editClient:!1,search:""}},computed:{clients:function(){return this.state.clients},tableData:function(){var e=this;return this.clients.filter((function(t){return!e.search||JSON.stringify(t).toLowerCase().includes(e.search.toLowerCase())}))}},methods:{addClient:function(){this.editClient=new J,this.dialogVisible=!0},cancelEdit:function(){this.dialogVisible=!1,this.editClient=!1},confirmEdit:function(){this.$emit("saveClient",this.editClient),this.cancelEdit()},handleEdit:function(e,t){this.editClient=JSON.parse(JSON.stringify(t)),this.dialogVisible=!0},handleDelete:function(e,t){this.$emit("deleteClient",t.id)}}};M.render=T,M.__scopeId="data-v-5753d4a3";var B=M,G=(n("a4d3"),n("e01a"),Object(c["hb"])("data-v-357d048a"));Object(c["I"])("data-v-357d048a");var L=Object(c["n"])("New invoice"),R=Object(c["n"])(" Edit "),q=Object(c["n"])("Delete"),H={style:{"margin-right":"30px"}},W=Object(c["n"])(" Net30 "),Y=Object(c["n"])(" International "),K={style:{display:"flex"}},Q=Object(c["n"])(" Add item "),X=Object(c["n"])(" Expense "),Z=Object(c["n"])(" Delete "),ee={class:"dialog-footer"},te=Object(c["n"])("Cancel"),ne=Object(c["n"])("Confirm");Object(c["G"])();var ie=G((function(e,t,n,i,o,l){var a=Object(c["O"])("el-button"),r=Object(c["O"])("el-row"),u=Object(c["O"])("el-table-column"),s=Object(c["O"])("el-input"),d=Object(c["O"])("el-table"),b=Object(c["O"])("el-checkbox"),O=Object(c["O"])("el-form-item"),f=Object(c["O"])("el-date-picker"),j=Object(c["O"])("el-option"),p=Object(c["O"])("el-select"),m=Object(c["O"])("el-button-group"),h=Object(c["O"])("el-input-number"),v=Object(c["O"])("el-form"),g=Object(c["O"])("el-dialog"),y=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(y,null,{default:G((function(){return[Object(c["o"])(r,{justify:"end"},{default:G((function(){return[Object(c["o"])(a,{type:"primary",onClick:l.addInvoice},{default:G((function(){return[L]})),_:1},8,["onClick"])]})),_:1}),Object(c["o"])(d,{data:l.tableData,style:{width:"100%"}},{default:G((function(){return[Object(c["o"])(u,{prop:"description",label:"Description",width:"320"}),Object(c["o"])(u,{label:"Reference",width:"120"},{default:G((function(e){return[Object(c["o"])("a",{href:"",onClick:Object(c["gb"])((function(t){return l.print(e.row)}),["prevent"])},Object(c["S"])(e.row.reference),9,["onClick"])]})),_:1}),Object(c["o"])(u,{label:"Date",width:"180"},{default:G((function(e){return[Object(c["n"])(Object(c["S"])(l.formatDate(e.row.date)),1)]})),_:1}),Object(c["o"])(u,{label:"Client"},{default:G((function(e){return[Object(c["n"])(Object(c["S"])(l.clientDescription(e.row.client)),1)]})),_:1}),Object(c["o"])(u,{prop:"paid",label:"Paid",width:"90",align:"center",filters:[{text:"Paid",value:!0},{text:"Unpaid",value:!1}],"filter-method":l.filterPaid},{default:G((function(e){return[Object(c["o"])("i",{class:e.row.paid?"el-icon-check":"el-icon-minus"},null,2)]})),_:1},8,["filter-method"]),Object(c["o"])(u,{align:"right"},{header:G((function(){return[Object(c["o"])(s,{modelValue:o.search,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.search=e}),size:"mini",placeholder:"Type to search"},null,8,["modelValue"])]})),default:G((function(e){return[Object(c["o"])(a,{size:"mini",onClick:function(t){return l.handleEdit(e.row)}},{default:G((function(){return[R]})),_:2},1032,["onClick"]),Object(c["o"])(a,{size:"mini",type:"danger",onClick:function(t){return l.handleDelete(e.row)}},{default:G((function(){return[q]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(c["o"])(g,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.dialogVisible=e}),width:"50%"},{title:G((function(){return[Object(c["o"])("span",H,Object(c["S"])(o.editInvoice.reference),1),Object(c["o"])(b,{label:"Paid",modelValue:o.editInvoice.paid,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.editInvoice.paid=e})},null,8,["modelValue"])]})),footer:G((function(){return[Object(c["o"])("span",ee,[Object(c["o"])(a,{onClick:l.cancelEdit},{default:G((function(){return[te]})),_:1},8,["onClick"]),Object(c["o"])(a,{type:"primary",onClick:l.confirmEdit},{default:G((function(){return[ne]})),_:1},8,["onClick"])])]})),default:G((function(){return[o.editInvoice?(Object(c["F"])(),Object(c["k"])(v,{key:0,"label-width":"120px",size:"small"},{default:G((function(){return[Object(c["o"])(O,{label:"Description"},{default:G((function(){return[Object(c["o"])(s,{modelValue:o.editInvoice.description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.editInvoice.description=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(O,{label:"Invoice date"},{default:G((function(){return[Object(c["o"])(f,{modelValue:o.editInvoice.date,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.editInvoice.date=e}),type:"date"},null,8,["modelValue"])]})),_:1}),Object(c["o"])(O,{label:"Client"},{default:G((function(){return[Object(c["o"])(p,{modelValue:o.editInvoice.client,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.editInvoice.client=e}),placeholder:"Select"},{default:G((function(){return[(Object(c["F"])(!0),Object(c["k"])(c["b"],null,Object(c["M"])(l.clientOptions,(function(e){return Object(c["F"])(),Object(c["k"])(j,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(c["o"])(d,{data:o.editInvoice.items,style:{width:"100%"},"empty-text":"No items to invoice"},{default:G((function(){return[Object(c["o"])(u,{prop:"description",width:"300"},{header:G((function(){return[Object(c["o"])(m,null,{default:G((function(){return[Object(c["o"])(a,{size:"mini",onClick:t[6]||(t[6]=function(e){return o.editInvoice.net30=!o.editInvoice.net30}),type:o.editInvoice.net30?"primary":"default"},{default:G((function(){return[W]})),_:1},8,["type"]),Object(c["o"])(a,{size:"mini",type:o.editInvoice.internationalPaymentDetails?"primary":"default",onClick:t[7]||(t[7]=function(e){return o.editInvoice.internationalPaymentDetails=!o.editInvoice.internationalPaymentDetails})},{default:G((function(){return[Y]})),_:1},8,["type"])]})),_:1})]})),default:G((function(e){return[Object(c["o"])(s,{size:"small",modelValue:e.row.description,"onUpdate:modelValue":function(t){return e.row.description=t},placeholder:"Description"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(c["o"])(u,{prop:"rate"},{header:G((function(){return[Object(c["o"])(m,null,{default:G((function(){return[(Object(c["F"])(),Object(c["k"])(c["b"],null,Object(c["M"])(["£","€","$"],(function(e){return Object(c["o"])(a,{size:"mini",type:o.editInvoice.currency===e?"primary":"default",key:e,onClick:function(t){return o.editInvoice.currency=e}},{default:G((function(){return[Object(c["n"])(Object(c["S"])(e),1)]})),_:2},1032,["type","onClick"])})),64))]})),_:1})]})),default:G((function(e){return[Object(c["o"])("div",K,[Object(c["o"])(h,{size:"small",precision:2,controls:!1,modelValue:e.row.rate,"onUpdate:modelValue":function(t){return e.row.rate=t},placeholder:"Rate",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),Object(c["o"])(u,{align:"right",width:"200"},{header:G((function(){return[Object(c["o"])(a,{type:"primary",size:"mini",onClick:t[8]||(t[8]=function(e){return o.editInvoice.items.push({description:"",rate:void 0,isExpense:o.editInvoice.items.length>0})})},{default:G((function(){return[Q]})),_:1})]})),default:G((function(e){return[Object(c["o"])(a,{size:"mini",type:e.row.isExpense?"primary":"default",onClick:function(t){return e.row.isExpense=!e.row.isExpense}},{default:G((function(){return[X]})),_:2},1032,["type","onClick"]),Object(c["o"])(a,{size:"mini",type:"danger",onClick:function(t){return o.editInvoice.items.splice(e.$index,1)}},{default:G((function(){return[Z]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1})):Object(c["l"])("",!0)]})),_:1},8,["modelValue"])]})),_:1})})),ce=n("b85c");n("fb6a"),n("d81d"),n("7db0");function oe(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var le=function e(t){Object(C["a"])(this,e),this.id=oe(),this.description="",this.date=(new Date).toISOString().slice(0,10),this.reference=t,this.client="",this.currency="£",this.items=[{description:"",rate:void 0,isExpense:!1}],this.net30=!0,this.internationalPaymentDetails=!1,this.paid=!1},ae={name:"Invoices",props:{state:Object},data:function(){return{dialogVisible:!1,editInvoice:!1,search:""}},computed:{invoices:function(){return this.state.invoices},tableData:function(){var e=this;return this.invoices.filter((function(t){return!e.search||t.description.toLowerCase().includes(e.search.toLowerCase())}))},clientOptions:function(){return this.state.clients.map((function(e){var t=e.company||e.name;return e.company&&e.name&&(t+=" (".concat(e.name,")")),{value:e.id,label:t}}))}},methods:{getNewReference:function(){var e=new Date,t=e.getUTCDate().toString();1==t.length&&(t="0"+t);var n=(e.getUTCMonth()+1).toString();1==n.length&&(n="0"+n);var i,c=e.getUTCFullYear().toString().substring(2),o="INV"+t+n+c,l=1,a=Object(ce["a"])(this.state.invoices);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.reference.substring(0,o.length)==o&&(l=Math.max(l,parseInt(r.reference.substring(o.length))+1))}}catch(u){a.e(u)}finally{a.f()}return l=l.toString(),1==l.length&&(l="0"+l),o+l},addInvoice:function(){this.editInvoice=new le(this.getNewReference()),this.dialogVisible=!0},cancelEdit:function(){var e=this;this.dialogVisible=!1,this.$nextTick((function(){e.editInvoice=!1}))},confirmEdit:function(){this.$emit("saveInvoice",this.editInvoice),this.cancelEdit()},handleEdit:function(e){this.editInvoice=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},handleDelete:function(e){this.$emit("deleteInvoice",e.id)},filterPaid:function(e,t){return t.paid===e},print:function(e){this.$emit("printInvoice",e)},clientDescription:function(e){var t=this.clientOptions.find((function(t){return t.value===e}));return t?t.label:""},formatDate:function(e){return new Date(e).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})}}};ae.render=ie,ae.__scopeId="data-v-357d048a";var re=ae,ue=(n("1276"),Object(c["hb"])("data-v-0416f42a"));Object(c["I"])("data-v-0416f42a");var se={key:0,class:"page"},de={style:{display:"flex","font-size":"24pt","margin-bottom":"60pt"}},be=Object(c["o"])("div",null,"Invoice",-1),Oe=Object(c["o"])("div",{style:{flex:"1"}},null,-1),fe={style:{display:"flex","font-size":"11pt"}},je=Object(c["o"])("div",null,"From",-1),pe={style:{"font-size":"16pt"}},me={key:0},he={key:2},ve=Object(c["o"])("div",{style:{flex:"1"}},null,-1),ge={style:{"text-align":"right"}},ye=Object(c["o"])("div",null,"To",-1),ke={style:{"font-size":"16pt"}},Ie={key:0},Ce={key:1},Ve={key:3},_e={style:{"font-size":"10pt",width:"50%",margin:"30pt 0"}},we=Object(c["o"])("td",null,"Invoice reference",-1),Se=Object(c["o"])("td",null,"Invoice date",-1),De={key:0},xe=Object(c["o"])("td",null,"Payment due by",-1),Fe={style:{"font-size":"11pt","border-collapse":"collapse","border-bottom":"1px solid #d9d9d9"}},Ue={style:{padding:"4pt","font-weight":"bold"},colspan:"2"},Ne={class:"item",style:{color:"#999999","font-size":"10pt"}},Pe={class:"item",style:{"text-align":"right"}},Ee={style:{"align-self":"flex-end",width:"30%","font-size":"11pt","border-collapse":"collapse","border-bottom":"1px solid #d9d9d9"}},ze=Object(c["o"])("td",{class:"item"},"Balance due",-1),Ae={class:"item",style:{"text-align":"right","font-weight":"bold"}},Te=Object(c["o"])("div",{style:{flex:"1"}},null,-1),$e={style:{"padding-top":"40pt"}},Je={style:{"font-size":"10pt"}},Me=Object(c["o"])("tr",null,[Object(c["o"])("td",{style:{"padding-top":"20pt"}},"Payment details")],-1),Be=Object(c["o"])("td",{style:{width:"100pt"}},"Name",-1),Ge=Object(c["o"])("td",null,"Sort code",-1),Le=Object(c["o"])("td",null,"Account number",-1),Re=Object(c["o"])("td",null,"IBAN",-1),qe=Object(c["o"])("td",null,"SWIFT",-1),He=Object(c["o"])("tr",null,[Object(c["o"])("td",{style:{"padding-top":"20pt"}},"Terms")],-1),We=Object(c["o"])("tr",null,[Object(c["o"])("td",{colspan:"2"}," Please ensure payment is made within 30 days. Thank you. ")],-1);Object(c["G"])();var Ye=ue((function(e,t,n,i,o,l){return n.state.invoices.length>0?(Object(c["F"])(),Object(c["k"])("div",se,[Object(c["o"])("div",de,[be,Oe,Object(c["o"])("div",null,Object(c["S"])(n.state.settings.businessName),1)]),n.invoice?(Object(c["F"])(),Object(c["k"])(c["b"],{key:0},[Object(c["o"])("div",fe,[Object(c["o"])("div",null,[je,Object(c["o"])("div",pe,Object(c["S"])(n.state.settings.name),1),n.state.settings.email?(Object(c["F"])(),Object(c["k"])("div",me,Object(c["S"])(n.state.settings.email),1)):Object(c["l"])("",!0),n.state.settings.address?(Object(c["F"])(!0),Object(c["k"])(c["b"],{key:1},Object(c["M"])(n.state.settings.address.split(", "),(function(e,t){return Object(c["F"])(),Object(c["k"])("div",{key:"adr_"+t},Object(c["S"])(e),1)})),128)):Object(c["l"])("",!0),n.state.settings.phone?(Object(c["F"])(),Object(c["k"])("div",he,Object(c["S"])(n.state.settings.phone),1)):Object(c["l"])("",!0)]),ve,Object(c["o"])("div",ge,[ye,Object(c["o"])("div",ke,Object(c["S"])(l.client.company||l.client.name),1),l.client.company&&l.client.name?(Object(c["F"])(),Object(c["k"])("div",Ie,"c/o "+Object(c["S"])(l.client.name),1)):Object(c["l"])("",!0),l.client.email?(Object(c["F"])(),Object(c["k"])("div",Ce,Object(c["S"])(l.client.email),1)):Object(c["l"])("",!0),l.client.address?(Object(c["F"])(!0),Object(c["k"])(c["b"],{key:2},Object(c["M"])(l.client.address.split(", "),(function(e,t){return Object(c["F"])(),Object(c["k"])("div",{key:"cladr_"+t},Object(c["S"])(e),1)})),128)):Object(c["l"])("",!0),l.client.phone?(Object(c["F"])(),Object(c["k"])("div",Ve,Object(c["S"])(l.client.phone),1)):Object(c["l"])("",!0)])]),Object(c["o"])("table",_e,[Object(c["o"])("tr",null,[we,Object(c["o"])("td",null,Object(c["S"])(n.invoice.reference),1)]),Object(c["o"])("tr",null,[Se,Object(c["o"])("td",null,Object(c["S"])(l.formatDate(new Date(n.invoice.date))),1)]),n.invoice.net30?(Object(c["F"])(),Object(c["k"])("tr",De,[xe,Object(c["o"])("td",null,Object(c["S"])(l.paymentDueDate),1)])):Object(c["l"])("",!0)]),Object(c["o"])("table",Fe,[Object(c["o"])("tr",null,[Object(c["o"])("td",Ue,Object(c["S"])(n.invoice.description||"Description"),1)]),(Object(c["F"])(!0),Object(c["k"])(c["b"],null,Object(c["M"])(n.invoice.items,(function(e,t){return Object(c["F"])(),Object(c["k"])("tr",{key:"item"+t},[Object(c["o"])("td",Ne,Object(c["S"])(e.description),1),Object(c["o"])("td",Pe,Object(c["S"])(n.invoice.currency)+Object(c["S"])(l.formatCurrency(e.rate)),1)])})),128))]),Object(c["o"])("table",Ee,[Object(c["o"])("tr",null,[ze,Object(c["o"])("td",Ae,Object(c["S"])(l.invoiceTotal),1)])]),Te,Object(c["o"])("div",$e,[Object(c["o"])("table",Je,[Me,Object(c["o"])("tr",null,[Be,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.name),1)]),Object(c["o"])("tr",null,[Ge,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.sortCode),1)]),Object(c["o"])("tr",null,[Le,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.accountNumber),1)]),n.invoice.internationalPaymentDetails?(Object(c["F"])(),Object(c["k"])(c["b"],{key:0},[Object(c["o"])("tr",null,[Re,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.iban),1)]),Object(c["o"])("tr",null,[qe,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.swift),1)])],64)):Object(c["l"])("",!0),n.invoice.net30?(Object(c["F"])(),Object(c["k"])(c["b"],{key:1},[He,We],64)):Object(c["l"])("",!0)])])],64)):Object(c["l"])("",!0)])):Object(c["l"])("",!0)}));n("b680"),n("a9e3");function Ke(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var Qe=function e(){Object(C["a"])(this,e),this.id=Ke(),this.company="",this.name="",this.email="",this.phone="",this.address=""},Xe={name:"PrintableInvoice",props:{state:Object,invoice:Object},methods:{formatDate:function(e){return e.toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})},formatCurrency:function(e){return parseInt(e)==parseFloat(e)?e.toString():new Number(e).toFixed(2)}},computed:{client:function(){var e=this;return this.state.clients.find((function(t){return t.id===e.invoice.client}))||new Qe},paymentDueDate:function(){var e=new Date(this.invoice.date);return e.setDate(e.getDate()+30),this.formatDate(e)},invoiceTotal:function(){var e=function(e,t){return e+Number(t.rate)};return this.invoice.currency+this.formatCurrency(this.invoice.items.reduce(e,0))}}};n("8106");Xe.render=Ye,Xe.__scopeId="data-v-0416f42a";var Ze=Xe;window.onafterprint=function(){document.title="Invoices"};var et=function e(){Object(C["a"])(this,e),this.settings={name:"",businessName:"",address:"",email:"",phone:"",paymentDetails:{name:"",sortCode:"",accountNumber:"",iban:"",swift:""}},this.clients=[],this.invoices=[]},tt={components:{InvoiceSettings:x,InvoiceClients:B,Invoices:re,PrintableInvoice:Ze},data:function(){return{isSignedIn:!1,state:new et,navSection:"invoices",printInvoice:null}},watch:{state:{deep:!0,handler:function(){this.save()}}},methods:{copyData:function(){var e=this;navigator.clipboard.writeText(JSON.stringify(this.state)).then((function(){e.$message.success("All data copied to clipboard")}),(function(t){e.$message.error(t)}))},saveClient:function(e){var t=this.state.clients.findIndex((function(t){return t.id===e.id}));-1===t?this.state.clients.push(e):this.state.clients[t]=e},saveInvoice:function(e){var t=this.state.invoices.findIndex((function(t){return t.id===e.id}));-1===t?this.state.invoices.push(e):this.state.invoices[t]=e},deleteInvoice:function(e){var t=this.state.invoices.findIndex((function(t){return t.id===e}));-1!=t&&this.state.invoices.splice(t,1)},authorise:function(){gapi.load("client:auth2",this.initClient)},initClient:function(){var e=this,t="989846409282-j3lkg93rcn1047hu2hh0ko5pg8rst3t3.apps.googleusercontent.com",n="https://www.googleapis.com/auth/drive.appdata";gapi.client.init({client_id:t,scope:n}).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e.updateSigninStatus),e.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get())}),(function(t){e.$message.error(JSON.stringify(t,null,2))}))},updateSigninStatus:function(e){this.isSignedIn=e,e?this.read():this.state=new et},loadDriveAPI:function(){return gapi.client.load("drive","v3")},getFileId:function(){var e=this;return gapi.client.drive.files.list({q:'name="invoices.json"',spaces:"appDataFolder",fields:"files(id)"}).then((function(t){return 0==t.result.files.length?e.create():t.result.files[0].id}))},prepare:function(){return this.loadDriveAPI().then(this.getFileId)},create:function(){return gapi.client.drive.files.create({fields:"id",resource:{name:"invoices.json",parents:["appDataFolder"]}}).then((function(e){return e.result.id}))},read:function(){var e=this;return this.prepare().then((function(t){return gapi.client.drive.files.get({fileId:t,alt:"media"}).then((function(t){t.body.length>0&&(e.state=JSON.parse(t.body))}))}))},save:function(){var e=this;this.isSignedIn&&this.prepare().then((function(t){return gapi.client.request({path:"/upload/drive/v3/files/"+t,method:"PATCH",params:{uploadType:"media"},body:JSON.stringify(e.state)})}))},signin:function(){gapi.auth2.getAuthInstance().signIn()},signout:function(){gapi.auth2.getAuthInstance().signOut()},print:function(e){this.printInvoice=e,document.title=e.reference,this.$nextTick((function(){window.print()}))}},mounted:function(){window.addEventListener("google-loaded",this.authorise)}};n("e585");tt.render=I;var nt=tt;Object(c["j"])(nt).use(i["a"]).mount("#app")},"68fa":function(e,t,n){},8106:function(e,t,n){"use strict";n("95ac")},"95ac":function(e,t,n){},c632:function(e,t,n){"use strict";n("e3b9")},e3b9:function(e,t,n){},e585:function(e,t,n){"use strict";n("68fa")}});
//# sourceMappingURL=app.adc6f830.js.map