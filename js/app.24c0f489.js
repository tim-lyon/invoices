(function(e){function t(t){for(var i,l,a=t[0],r=t[1],u=t[2],s=0,b=[];s<a.length;s++)l=a[s],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&b.push(c[l][0]),c[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==c[r]&&(i=!1)}i&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},c={app:0},o=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var d=r;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00b1":function(e,t,n){"use strict";n("a06a")},"3cd6":function(e,t,n){},5454:function(e,t,n){"use strict";n("d437")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7864"),c=(n("3cd6"),n("7a23")),o={id:"app"},l={key:0,style:{height:"100%"}},a=Object(c["o"])("i",{class:"el-icon-back"},null,-1),r=Object(c["n"])(" Sign out "),u=Object(c["o"])("i",{class:"el-icon-setting"},null,-1),d=Object(c["n"])(" Settings "),s=Object(c["o"])("i",{class:"el-icon-user"},null,-1),b=Object(c["n"])(" Clients "),f=Object(c["o"])("i",{class:"el-icon-tickets"},null,-1),O=Object(c["n"])(" Invoices "),j=Object(c["o"])("i",{class:"el-icon-data-line"},null,-1),p=Object(c["n"])(" Summary "),m=Object(c["o"])("i",{class:"el-icon-copy-document"},null,-1),h=Object(c["n"])(" Copy data "),v={key:1},g=Object(c["n"])(" Hello! "),y=Object(c["o"])("br",null,null,-1),C=Object(c["n"])(" To start making invoices, sign in with Google Drive "),k=Object(c["o"])("br",null,null,-1),w=Object(c["n"])("Sign in");function V(e,t,n,i,V,I){var S=Object(c["O"])("el-menu-item"),_=Object(c["O"])("el-menu"),D=Object(c["O"])("el-aside"),x=Object(c["O"])("invoice-settings"),F=Object(c["O"])("invoice-clients"),N=Object(c["O"])("invoices"),U=Object(c["O"])("Summary"),T=Object(c["O"])("el-container"),P=Object(c["O"])("el-main"),E=Object(c["O"])("printable-invoice"),A=Object(c["O"])("el-button");return Object(c["F"])(),Object(c["k"])("div",o,[V.isSignedIn?(Object(c["F"])(),Object(c["k"])("div",l,[Object(c["o"])(T,{style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(P,{class:"app",style:{padding:"0",height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(T,{style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(D,{width:"200px",style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(_,{"default-active":"3",style:{height:"100%"}},{default:Object(c["db"])((function(){return[Object(c["o"])(S,{onClick:I.signout,index:"4"},{default:Object(c["db"])((function(){return[a,r]})),_:1},8,["onClick"]),Object(c["o"])(S,{onClick:t[1]||(t[1]=function(e){return V.navSection="settings"}),index:"1"},{default:Object(c["db"])((function(){return[u,d]})),_:1}),Object(c["o"])(S,{onClick:t[2]||(t[2]=function(e){return V.navSection="clients"}),index:"2"},{default:Object(c["db"])((function(){return[s,b]})),_:1}),Object(c["o"])(S,{onClick:t[3]||(t[3]=function(e){return V.navSection="invoices"}),index:"3"},{default:Object(c["db"])((function(){return[f,O]})),_:1}),Object(c["o"])(S,{onClick:t[4]||(t[4]=function(e){return V.navSection="summary"}),index:"4"},{default:Object(c["db"])((function(){return[j,p]})),_:1}),Object(c["o"])(S,{onClick:I.copyData,index:"5"},{default:Object(c["db"])((function(){return[m,h]})),_:1},8,["onClick"])]})),_:1})]})),_:1}),Object(c["o"])(T,null,{default:Object(c["db"])((function(){return["settings"===V.navSection?(Object(c["F"])(),Object(c["k"])(x,{key:0,state:V.state},null,8,["state"])):Object(c["l"])("",!0),"clients"===V.navSection?(Object(c["F"])(),Object(c["k"])(F,{key:1,onSaveClient:I.saveClient,onDeleteClient:I.deleteClient,state:V.state},null,8,["onSaveClient","onDeleteClient","state"])):Object(c["l"])("",!0),"invoices"===V.navSection?(Object(c["F"])(),Object(c["k"])(N,{key:2,onSaveInvoice:I.saveInvoice,onDeleteInvoice:I.deleteInvoice,onPrintInvoice:I.print,state:V.state},null,8,["onSaveInvoice","onDeleteInvoice","onPrintInvoice","state"])):Object(c["l"])("",!0),"summary"===V.navSection?(Object(c["F"])(),Object(c["k"])(U,{key:3,state:V.state},null,8,["state"])):Object(c["l"])("",!0)]})),_:1})]})),_:1})]})),_:1})]})),_:1}),Object(c["o"])(E,{state:V.state,invoice:V.printInvoice},null,8,["state","invoice"])])):(Object(c["F"])(),Object(c["k"])("div",v,[Object(c["o"])(T,null,{default:Object(c["db"])((function(){return[Object(c["o"])(P,{style:{"margin-top":"60px","text-align":"center",color:"#ccc","line-height":"3em"}},{default:Object(c["db"])((function(){return[g,y,C,k,Object(c["o"])(A,{onClick:I.signin},{default:Object(c["db"])((function(){return[w]})),_:1},8,["onClick"])]})),_:1})]})),_:1})]))])}var I=n("bee2"),S=n("d4ec"),_=(n("e9c4"),n("c740"),n("a434"),n("b0c0"),Object(c["hb"])("data-v-43609eaa"));Object(c["I"])("data-v-43609eaa");var D=Object(c["o"])("div",{class:"card-header"},[Object(c["o"])("span",null,"Business details")],-1),x=Object(c["o"])("div",{class:"card-header"},[Object(c["o"])("span",null,"Payment details")],-1);Object(c["G"])();var F=_((function(e,t,n,i,o,l){var a=Object(c["O"])("el-input"),r=Object(c["O"])("el-form-item"),u=Object(c["O"])("el-form"),d=Object(c["O"])("el-card"),s=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(s,null,{default:_((function(){return[Object(c["o"])(d,{class:"box-card"},{header:_((function(){return[D]})),default:_((function(){return[Object(c["o"])(u,{"label-width":"120px"},{default:_((function(){return[Object(c["o"])(r,{label:"Name"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.settings.name=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Business name"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.businessName,"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.settings.businessName=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Address"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.address,"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.settings.address=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Email"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return l.settings.email=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Phone"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return l.settings.phone=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(c["o"])(d,{class:"box-card"},{header:_((function(){return[x]})),default:_((function(){return[Object(c["o"])(u,{"label-width":"120px"},{default:_((function(){return[Object(c["o"])(r,{label:"Name"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.name,"onUpdate:modelValue":t[6]||(t[6]=function(e){return l.settings.paymentDetails.name=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Sort code"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.sortCode,"onUpdate:modelValue":t[7]||(t[7]=function(e){return l.settings.paymentDetails.sortCode=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Account number"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.accountNumber,"onUpdate:modelValue":t[8]||(t[8]=function(e){return l.settings.paymentDetails.accountNumber=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"IBAN"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.iban,"onUpdate:modelValue":t[9]||(t[9]=function(e){return l.settings.paymentDetails.iban=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(r,{label:"Swift"},{default:_((function(){return[Object(c["o"])(a,{modelValue:l.settings.paymentDetails.swift,"onUpdate:modelValue":t[10]||(t[10]=function(e){return l.settings.paymentDetails.swift=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1})})),N={name:"InvoiceSettings",props:{state:Object},computed:{settings:function(){return this.state.settings}}};n("c632");N.render=F,N.__scopeId="data-v-43609eaa";var U=N,T=(n("ac1f"),n("841c"),Object(c["hb"])("data-v-bfbacdd4"));Object(c["I"])("data-v-bfbacdd4");var P=Object(c["n"])("New client"),E={class:"dialog-footer"},A=Object(c["n"])("Cancel"),z=Object(c["n"])("Confirm");Object(c["G"])();var $=T((function(e,t,n,i,o,l){var a=Object(c["O"])("el-button"),r=Object(c["O"])("el-row"),u=Object(c["O"])("el-table-column"),d=Object(c["O"])("el-input"),s=Object(c["O"])("el-table"),b=Object(c["O"])("el-form-item"),f=Object(c["O"])("el-form"),O=Object(c["O"])("el-dialog"),j=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(j,null,{default:T((function(){return[Object(c["o"])(r,{justify:"end"},{default:T((function(){return[Object(c["o"])(a,{type:"primary",onClick:l.addClient},{default:T((function(){return[P]})),_:1},8,["onClick"])]})),_:1}),Object(c["o"])(s,{data:l.tableData,style:{width:"100%"}},{default:T((function(){return[Object(c["o"])(u,{prop:"company",label:"Company",width:"180"}),Object(c["o"])(u,{prop:"name",label:"Name",width:"180"}),Object(c["o"])(u,{prop:"email",label:"Email"}),Object(c["o"])(u,{prop:"phone",label:"Phone"}),Object(c["o"])(u,{prop:"address",label:"Address"}),Object(c["o"])(u,{align:"right"},{header:T((function(){return[Object(c["o"])(d,{modelValue:o.search,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.search=e}),size:"mini",placeholder:"Type to search"},null,8,["modelValue"])]})),default:T((function(e){return[Object(c["o"])(a,{icon:"el-icon-edit",circle:"",disabled:l.invoiceCount(e.row.id)>0,onClick:function(t){return l.handleEdit(e.row)}},null,8,["disabled","onClick"]),Object(c["o"])(a,{icon:"el-icon-delete",circle:"",disabled:l.invoiceCount(e.row.id)>0,onClick:function(t){return l.deleteClient(e.row.id)}},null,8,["disabled","onClick"])]})),_:1})]})),_:1},8,["data"]),Object(c["o"])(O,{title:"Client details",modelValue:o.dialogVisible,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.dialogVisible=e}),width:"50%"},{footer:T((function(){return[Object(c["o"])("span",E,[Object(c["o"])(a,{onClick:l.cancelEdit},{default:T((function(){return[A]})),_:1},8,["onClick"]),Object(c["o"])(a,{type:"primary",onClick:l.confirmEdit},{default:T((function(){return[z]})),_:1},8,["onClick"])])]})),default:T((function(){return[Object(c["o"])(f,{"label-width":"120px",size:"small"},{default:T((function(){return[Object(c["o"])(b,{label:"Company"},{default:T((function(){return[Object(c["o"])(d,{modelValue:o.editClient.company,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.editClient.company=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Name"},{default:T((function(){return[Object(c["o"])(d,{modelValue:o.editClient.name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.editClient.name=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Email"},{default:T((function(){return[Object(c["o"])(d,{modelValue:o.editClient.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.editClient.email=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Phone"},{default:T((function(){return[Object(c["o"])(d,{modelValue:o.editClient.phone,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.editClient.phone=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(b,{label:"Address"},{default:T((function(){return[Object(c["o"])(d,{modelValue:o.editClient.address,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.editClient.address=e})},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})}));n("5319"),n("d3b7"),n("25f0"),n("5cc6"),n("acef"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("4de4"),n("caad"),n("2532");function J(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var M=Object(I["a"])((function e(){Object(S["a"])(this,e),this.id=J(),this.company="",this.name="",this.email="",this.phone="",this.address=""})),B={name:"InvoiceClients",props:{state:Object},data:function(){return{dialogVisible:!1,editClient:!1,search:""}},computed:{clients:function(){return this.state.clients},tableData:function(){var e=this;return this.clients.filter((function(t){return!e.search||JSON.stringify(t).toLowerCase().includes(e.search.toLowerCase())}))}},methods:{addClient:function(){this.editClient=new M,this.dialogVisible=!0},cancelEdit:function(){this.dialogVisible=!1,this.editClient=!1},confirmEdit:function(){this.$emit("saveClient",this.editClient),this.cancelEdit()},handleEdit:function(e){this.editClient=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},invoiceCount:function(e){return this.state.invoices.filter((function(t){return t.client===e})).length},deleteClient:function(e){var t=this;this.$confirm("This will permanently delete the client. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.$emit("deleteClient",e)})).catch((function(){}))}}};B.render=$,B.__scopeId="data-v-bfbacdd4";var G=B,L=(n("a4d3"),n("e01a"),Object(c["hb"])("data-v-311a933e"));Object(c["I"])("data-v-311a933e");var R=Object(c["n"])("New invoice"),W={style:{"margin-right":"30px"}},Y={style:{display:"flex"}},q=Object(c["n"])(" Add item "),H={class:"dialog-footer"},K=Object(c["n"])("Cancel"),Q=Object(c["n"])("Confirm");Object(c["G"])();var X=L((function(e,t,n,i,o,l){var a=Object(c["O"])("el-button"),r=Object(c["O"])("el-row"),u=Object(c["O"])("el-table-column"),d=Object(c["O"])("el-input"),s=Object(c["O"])("el-table"),b=Object(c["O"])("el-checkbox"),f=Object(c["O"])("el-form-item"),O=Object(c["O"])("el-date-picker"),j=Object(c["O"])("el-option"),p=Object(c["O"])("el-select"),m=Object(c["O"])("el-button-group"),h=Object(c["O"])("el-input-number"),v=Object(c["O"])("el-form"),g=Object(c["O"])("el-dialog"),y=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(y,null,{default:L((function(){return[Object(c["o"])(r,{justify:"end"},{default:L((function(){return[Object(c["o"])(a,{type:"primary",onClick:l.addInvoice},{default:L((function(){return[R]})),_:1},8,["onClick"])]})),_:1}),Object(c["o"])(s,{data:l.tableData,"default-sort":{prop:"date",order:"descending"},style:{width:"100%"}},{default:L((function(){return[Object(c["o"])(u,{prop:"description",label:"Description",width:"320"}),Object(c["o"])(u,{label:"Reference",width:"120"},{default:L((function(e){return[Object(c["o"])("a",{href:"",onClick:Object(c["gb"])((function(t){return l.print(e.row)}),["prevent"])},Object(c["S"])(e.row.reference),9,["onClick"])]})),_:1}),Object(c["o"])(u,{label:"Date",prop:"date",width:"180"},{default:L((function(e){return[Object(c["n"])(Object(c["S"])(l.formatDate(e.row.date)),1)]})),_:1}),Object(c["o"])(u,{label:"Client"},{default:L((function(e){return[Object(c["n"])(Object(c["S"])(l.clientDescription(e.row.client)),1)]})),_:1}),Object(c["o"])(u,{label:"Total",width:"100"},{default:L((function(e){return[Object(c["n"])(Object(c["S"])(l.invoiceTotal(e.row)),1)]})),_:1}),Object(c["o"])(u,{prop:"paid",label:"Paid",width:"90",align:"center",filters:[{text:"Paid",value:!0},{text:"Unpaid",value:!1}],"filter-method":l.filterPaid,"filtered-value":[!1]},{default:L((function(e){return[Object(c["o"])(a,{icon:e.row.paid?"el-icon-check":"el-icon-minus",circle:"",onClick:function(t){return e.row.paid=!e.row.paid}},null,8,["icon","onClick"])]})),_:1},8,["filter-method"]),Object(c["o"])(u,{align:"right"},{header:L((function(){return[Object(c["o"])(d,{modelValue:o.search,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.search=e}),size:"mini",placeholder:"Type to search"},null,8,["modelValue"])]})),default:L((function(e){return[Object(c["o"])(a,{icon:"el-icon-edit",circle:"",onClick:function(t){return l.handleEdit(e.row)}},null,8,["onClick"]),Object(c["o"])(a,{icon:"el-icon-delete",circle:"",onClick:function(t){return l.deleteInvoice(e.row.id)}},null,8,["onClick"])]})),_:1})]})),_:1},8,["data"]),Object(c["o"])(g,{modelValue:o.dialogVisible,"onUpdate:modelValue":t[9]||(t[9]=function(e){return o.dialogVisible=e}),width:"80%"},{title:L((function(){return[Object(c["o"])("span",W,Object(c["S"])(o.editInvoice.reference),1),Object(c["o"])(b,{label:"Paid",modelValue:o.editInvoice.paid,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.editInvoice.paid=e})},null,8,["modelValue"])]})),footer:L((function(){return[Object(c["o"])("span",H,[Object(c["o"])(a,{onClick:l.cancelEdit},{default:L((function(){return[K]})),_:1},8,["onClick"]),Object(c["o"])(a,{type:"primary",onClick:l.confirmEdit},{default:L((function(){return[Q]})),_:1},8,["onClick"])])]})),default:L((function(){return[o.editInvoice?(Object(c["F"])(),Object(c["k"])(v,{key:0,"label-width":"120px",size:"small"},{default:L((function(){return[Object(c["o"])(f,{label:"Description"},{default:L((function(){return[Object(c["o"])(d,{modelValue:o.editInvoice.description,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.editInvoice.description=e})},null,8,["modelValue"])]})),_:1}),Object(c["o"])(f,{label:"Invoice date"},{default:L((function(){return[Object(c["o"])(O,{modelValue:o.editInvoice.date,"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.editInvoice.date=e}),type:"date"},null,8,["modelValue"])]})),_:1}),Object(c["o"])(f,{label:"Client"},{default:L((function(){return[Object(c["o"])(p,{modelValue:o.editInvoice.client,"onUpdate:modelValue":t[5]||(t[5]=function(e){return o.editInvoice.client=e}),placeholder:"Select"},{default:L((function(){return[(Object(c["F"])(!0),Object(c["k"])(c["b"],null,Object(c["M"])(l.clientOptions,(function(e){return Object(c["F"])(),Object(c["k"])(j,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(c["o"])(s,{data:o.editInvoice.items,style:{width:"100%"},"empty-text":"No items to invoice"},{default:L((function(){return[Object(c["o"])(u,{prop:"description"},{header:L((function(){return[Object(c["o"])(b,{modelValue:o.editInvoice.net30,"onUpdate:modelValue":t[6]||(t[6]=function(e){return o.editInvoice.net30=e}),label:"Net30"},null,8,["modelValue"]),Object(c["o"])(b,{modelValue:o.editInvoice.internationalPaymentDetails,"onUpdate:modelValue":t[7]||(t[7]=function(e){return o.editInvoice.internationalPaymentDetails=e}),label:"International"},null,8,["modelValue"])]})),default:L((function(e){return[Object(c["o"])(d,{size:"small",modelValue:e.row.description,"onUpdate:modelValue":function(t){return e.row.description=t},placeholder:"Description"},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(c["o"])(u,{width:"200"},{header:L((function(){return[Object(c["o"])(m,null,{default:L((function(){return[(Object(c["F"])(),Object(c["k"])(c["b"],null,Object(c["M"])(["£","€","$"],(function(e){return Object(c["o"])(a,{size:"mini",type:o.editInvoice.currency===e?"primary":"default",key:e,onClick:function(t){return o.editInvoice.currency=e}},{default:L((function(){return[Object(c["n"])(Object(c["S"])(e),1)]})),_:2},1032,["type","onClick"])})),64))]})),_:1})]})),default:L((function(e){return[Object(c["o"])("div",Y,[Object(c["o"])(h,{size:"small",precision:2,controls:!1,modelValue:e.row.rate,"onUpdate:modelValue":function(t){return e.row.rate=t},placeholder:"Rate",style:{width:"100%"}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),Object(c["o"])(u,{label:"Expense",align:"center",width:"100"},{default:L((function(e){return[Object(c["o"])(b,{modelValue:e.row.isExpense,"onUpdate:modelValue":function(t){return e.row.isExpense=t}},null,8,["modelValue","onUpdate:modelValue"])]})),_:1}),Object(c["o"])(u,{align:"right",width:"100"},{header:L((function(){return[Object(c["o"])(a,{type:"primary",size:"mini",onClick:t[8]||(t[8]=function(e){return o.editInvoice.items.push({description:"",rate:void 0,isExpense:o.editInvoice.items.length>0})})},{default:L((function(){return[q]})),_:1})]})),default:L((function(e){return[Object(c["o"])(a,{icon:"el-icon-delete",circle:"",onClick:function(t){return o.editInvoice.items.splice(e.$index,1)}},null,8,["onClick"])]})),_:1})]})),_:1},8,["data"])]})),_:1})):Object(c["l"])("",!0)]})),_:1},8,["modelValue"])]})),_:1})})),Z=n("b85c");n("fb6a"),n("d81d"),n("7db0"),n("b680"),n("a9e3");function ee(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var te=Object(I["a"])((function e(t){Object(S["a"])(this,e),this.id=ee(),this.description="",this.date=(new Date).toISOString().slice(0,10),this.reference=t,this.client="",this.currency="£",this.items=[{description:"",rate:void 0,isExpense:!1}],this.net30=!0,this.internationalPaymentDetails=!1,this.paid=!1})),ne={name:"Invoices",props:{state:Object},data:function(){return{dialogVisible:!1,editInvoice:!1,search:""}},computed:{invoices:function(){return this.state.invoices},tableData:function(){var e=this;return this.invoices.filter((function(t){return!e.search||t.description.toLowerCase().includes(e.search.toLowerCase())}))},clientOptions:function(){return this.state.clients.map((function(e){var t=e.company||e.name;return e.company&&e.name&&(t+=" (".concat(e.name,")")),{value:e.id,label:t}}))}},methods:{getNewReference:function(){var e=new Date,t=e.getUTCDate().toString();1==t.length&&(t="0"+t);var n=(e.getUTCMonth()+1).toString();1==n.length&&(n="0"+n);var i,c=e.getUTCFullYear().toString().substring(2),o="INV"+t+n+c,l=1,a=Object(Z["a"])(this.state.invoices);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.reference.substring(0,o.length)==o&&(l=Math.max(l,parseInt(r.reference.substring(o.length))+1))}}catch(u){a.e(u)}finally{a.f()}return l=l.toString(),1==l.length&&(l="0"+l),o+l},addInvoice:function(){this.editInvoice=new te(this.getNewReference()),this.dialogVisible=!0},cancelEdit:function(){var e=this;this.dialogVisible=!1,this.$nextTick((function(){e.editInvoice=!1}))},confirmEdit:function(){this.$emit("saveInvoice",this.editInvoice),this.cancelEdit()},handleEdit:function(e){this.editInvoice=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0},deleteInvoice:function(e){var t=this;this.$confirm("This will permanently delete the invoice. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((function(){t.$emit("deleteInvoice",e)})).catch((function(){}))},filterPaid:function(e,t){return t.paid===e},print:function(e){this.$emit("printInvoice",e)},clientDescription:function(e){var t=this.clientOptions.find((function(t){return t.value===e}));return t?t.label:""},formatDate:function(e){return new Date(e).toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})},formatCurrency:function(e){return parseInt(e)==parseFloat(e)?e.toString():new Number(e).toFixed(2)},invoiceTotal:function(e){var t=function(e,t){return e+Number(t.rate)},n=e.items.reduce(t,0);return isNaN(n)?"":e.currency+this.formatCurrency(n)}}};ne.render=X,ne.__scopeId="data-v-311a933e";var ie=ne,ce=(n("1276"),Object(c["hb"])("data-v-7650b06c"));Object(c["I"])("data-v-7650b06c");var oe={key:0,class:"page"},le={style:{display:"flex","font-size":"24pt","margin-bottom":"60pt"}},ae=Object(c["o"])("div",null,"Invoice",-1),re=Object(c["o"])("div",{style:{flex:"1"}},null,-1),ue={style:{display:"flex","font-size":"11pt"}},de=Object(c["o"])("div",null,"From",-1),se={style:{"font-size":"16pt"}},be={key:0},fe={key:2},Oe=Object(c["o"])("div",{style:{flex:"1"}},null,-1),je={style:{"text-align":"right"}},pe=Object(c["o"])("div",null,"To",-1),me={style:{"font-size":"16pt"}},he={key:0},ve={key:1},ge={key:3},ye={style:{"font-size":"10pt",width:"50%",margin:"30pt 0"}},Ce=Object(c["o"])("td",null,"Invoice reference",-1),ke=Object(c["o"])("td",null,"Invoice date",-1),we={key:0},Ve=Object(c["o"])("td",null,"Payment due by",-1),Ie={style:{"font-size":"11pt","border-collapse":"collapse","border-bottom":"1px solid #d9d9d9"}},Se={style:{padding:"4pt","font-weight":"bold"},colspan:"2"},_e={class:"item",style:{color:"#999999","font-size":"10pt"}},De={class:"item",style:{"text-align":"right"}},xe={style:{"align-self":"flex-end",width:"30%","font-size":"11pt","border-collapse":"collapse","border-bottom":"1px solid #d9d9d9"}},Fe=Object(c["o"])("td",{class:"item"},"Balance due",-1),Ne={class:"item",style:{"text-align":"right","font-weight":"bold"}},Ue=Object(c["o"])("div",{style:{flex:"1"}},null,-1),Te={style:{"padding-top":"40pt"}},Pe={style:{"font-size":"10pt"}},Ee=Object(c["o"])("tr",null,[Object(c["o"])("td",{style:{"padding-top":"20pt"}},"Payment details")],-1),Ae=Object(c["o"])("td",{style:{width:"100pt"}},"Name",-1),ze=Object(c["o"])("td",null,"Sort code",-1),$e=Object(c["o"])("td",null,"Account number",-1),Je=Object(c["o"])("td",null,"IBAN",-1),Me=Object(c["o"])("td",null,"SWIFT",-1),Be=Object(c["o"])("tr",null,[Object(c["o"])("td",{style:{"padding-top":"20pt"}},"Terms")],-1),Ge=Object(c["o"])("tr",null,[Object(c["o"])("td",{colspan:"2"}," Please ensure payment is made within 30 days. Thank you. ")],-1);Object(c["G"])();var Le=ce((function(e,t,n,i,o,l){return n.state.invoices.length>0?(Object(c["F"])(),Object(c["k"])("div",oe,[Object(c["o"])("div",le,[ae,re,Object(c["o"])("div",null,Object(c["S"])(n.state.settings.businessName),1)]),n.invoice?(Object(c["F"])(),Object(c["k"])(c["b"],{key:0},[Object(c["o"])("div",ue,[Object(c["o"])("div",null,[de,Object(c["o"])("div",se,Object(c["S"])(n.state.settings.name),1),n.state.settings.email?(Object(c["F"])(),Object(c["k"])("div",be,Object(c["S"])(n.state.settings.email),1)):Object(c["l"])("",!0),n.state.settings.address?(Object(c["F"])(!0),Object(c["k"])(c["b"],{key:1},Object(c["M"])(n.state.settings.address.split(", "),(function(e,t){return Object(c["F"])(),Object(c["k"])("div",{key:"adr_"+t},Object(c["S"])(e),1)})),128)):Object(c["l"])("",!0),n.state.settings.phone?(Object(c["F"])(),Object(c["k"])("div",fe,Object(c["S"])(n.state.settings.phone),1)):Object(c["l"])("",!0)]),Oe,Object(c["o"])("div",je,[pe,Object(c["o"])("div",me,Object(c["S"])(l.client.company||l.client.name),1),l.client.company&&l.client.name?(Object(c["F"])(),Object(c["k"])("div",he,"c/o "+Object(c["S"])(l.client.name),1)):Object(c["l"])("",!0),l.client.email?(Object(c["F"])(),Object(c["k"])("div",ve,Object(c["S"])(l.client.email),1)):Object(c["l"])("",!0),l.client.address?(Object(c["F"])(!0),Object(c["k"])(c["b"],{key:2},Object(c["M"])(l.client.address.split(", "),(function(e,t){return Object(c["F"])(),Object(c["k"])("div",{key:"cladr_"+t},Object(c["S"])(e),1)})),128)):Object(c["l"])("",!0),l.client.phone?(Object(c["F"])(),Object(c["k"])("div",ge,Object(c["S"])(l.client.phone),1)):Object(c["l"])("",!0)])]),Object(c["o"])("table",ye,[Object(c["o"])("tr",null,[Ce,Object(c["o"])("td",null,Object(c["S"])(n.invoice.reference),1)]),Object(c["o"])("tr",null,[ke,Object(c["o"])("td",null,Object(c["S"])(l.formatDate(new Date(n.invoice.date))),1)]),n.invoice.net30?(Object(c["F"])(),Object(c["k"])("tr",we,[Ve,Object(c["o"])("td",null,Object(c["S"])(l.paymentDueDate),1)])):Object(c["l"])("",!0)]),Object(c["o"])("table",Ie,[Object(c["o"])("tr",null,[Object(c["o"])("td",Se,Object(c["S"])(n.invoice.description||"Description"),1)]),(Object(c["F"])(!0),Object(c["k"])(c["b"],null,Object(c["M"])(n.invoice.items,(function(e,t){return Object(c["F"])(),Object(c["k"])("tr",{key:"item"+t},[Object(c["o"])("td",_e,Object(c["S"])(e.description),1),Object(c["o"])("td",De,Object(c["S"])(n.invoice.currency)+Object(c["S"])(l.formatCurrency(e.rate)),1)])})),128))]),Object(c["o"])("table",xe,[Object(c["o"])("tr",null,[Fe,Object(c["o"])("td",Ne,Object(c["S"])(l.invoiceTotal),1)])]),Ue,Object(c["o"])("div",Te,[Object(c["o"])("table",Pe,[Ee,Object(c["o"])("tr",null,[Ae,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.name),1)]),Object(c["o"])("tr",null,[ze,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.sortCode),1)]),Object(c["o"])("tr",null,[$e,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.accountNumber),1)]),n.invoice.internationalPaymentDetails?(Object(c["F"])(),Object(c["k"])(c["b"],{key:0},[Object(c["o"])("tr",null,[Je,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.iban),1)]),Object(c["o"])("tr",null,[Me,Object(c["o"])("td",null,Object(c["S"])(n.state.settings.paymentDetails.swift),1)])],64)):Object(c["l"])("",!0),n.invoice.net30?(Object(c["F"])(),Object(c["k"])(c["b"],{key:1},[Be,Ge],64)):Object(c["l"])("",!0)])])],64)):Object(c["l"])("",!0)])):Object(c["l"])("",!0)}));function Re(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}var We=Object(I["a"])((function e(){Object(S["a"])(this,e),this.id=Re(),this.company="",this.name="",this.email="",this.phone="",this.address=""})),Ye={name:"PrintableInvoice",props:{state:Object,invoice:Object},methods:{formatDate:function(e){return e.toLocaleDateString("en-GB",{year:"numeric",month:"long",day:"numeric"})},formatCurrency:function(e){return isNaN(e)?0:parseInt(e)==parseFloat(e)?e.toString():new Number(e).toFixed(2)}},computed:{client:function(){var e=this;return this.state.clients.find((function(t){return t.id===e.invoice.client}))||new We},paymentDueDate:function(){var e=new Date(this.invoice.date);return e.setDate(e.getDate()+30),this.formatDate(e)},invoiceTotal:function(){var e=function(e,t){return e+Number(t.rate)},t=this.invoice.items.reduce(e,0);return this.invoice.currency+this.formatCurrency(t)}}};n("5454");Ye.render=Le,Ye.__scopeId="data-v-7650b06c";var qe=Ye,He=Object(c["hb"])("data-v-96da7006");Object(c["I"])("data-v-96da7006");var Ke={ref:"chart"};Object(c["G"])();var Qe=He((function(e,t,n,i,o,l){var a=Object(c["O"])("el-main");return Object(c["F"])(),Object(c["k"])(a,null,{default:He((function(){return[Object(c["o"])("canvas",Ke,null,512)]})),_:1})})),Xe=(n("159b"),n("d549")),Ze=["January","February","March","April","May","June","July","August","September","October","November","December"],et={name:"Summary",props:{state:Object},components:{},data:function(){return{chart:null}},computed:{datasets:function(){var e=this,t=[0,0,0,0,0,0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0,0,0,0,0,0],i=(new Date).getFullYear();return this.state.invoices.forEach((function(c){var o=new Date(c.date),l=o.getFullYear(),a=o.getMonth();l==i?n[a]+=e.invoiceTotal(c):l==i-1&&(t[a]+=e.invoiceTotal(c))})),[{label:"Last year",backgroundColor:"rgb(230, 200, 235)",borderColor:"rgb(230, 200, 235)",data:t},{label:"This year",backgroundColor:"rgb(179, 89, 195)",borderColor:"rgb(179, 89, 195)",data:n}]},chartData:function(){return{labels:Ze,datasets:this.datasets}},chartConfig:function(){return{type:"bar",data:this.chartData,options:{}}}},methods:{conversionFactor:function(e){switch(e){case"£":return 1;case"$":return.74;case"€":return.85}},invoiceTotal:function(e){var t=function(e,t){return e+Number(t.rate)},n=e.items.reduce(t,0);return isNaN(n)?0:n*this.conversionFactor(e.currency)}},mounted:function(){this.chart=new Xe["a"](this.$refs["chart"],this.chartConfig)}};et.render=Qe,et.__scopeId="data-v-96da7006";var tt=et;window.onafterprint=function(){document.title="Invoices"};var nt=Object(I["a"])((function e(){Object(S["a"])(this,e),this.settings={name:"",businessName:"",address:"",email:"",phone:"",paymentDetails:{name:"",sortCode:"",accountNumber:"",iban:"",swift:""}},this.clients=[],this.invoices=[]})),it={components:{InvoiceSettings:U,InvoiceClients:G,Invoices:ie,PrintableInvoice:qe,Summary:tt},data:function(){return{isSignedIn:!1,state:new nt,navSection:"invoices",printInvoice:null}},watch:{state:{deep:!0,handler:function(){this.save()}}},methods:{copyData:function(){var e=this;navigator.clipboard.writeText(JSON.stringify(this.state)).then((function(){e.$message.info("All data copied to clipboard")}),(function(t){e.$message.error(t)}))},saveClient:function(e){var t=this.state.clients.findIndex((function(t){return t.id===e.id}));-1===t?this.state.clients.push(e):this.state.clients[t]=e},saveInvoice:function(e){var t=this.state.invoices.findIndex((function(t){return t.id===e.id}));-1===t?this.state.invoices.push(e):this.state.invoices[t]=e},deleteClient:function(e){var t=this.state.clients.findIndex((function(t){return t.id===e}));-1!=t&&this.state.clients.splice(t,1)},deleteInvoice:function(e){var t=this.state.invoices.findIndex((function(t){return t.id===e}));-1!=t&&this.state.invoices.splice(t,1)},authorise:function(){gapi.load("client:auth2",this.initClient)},initClient:function(){var e=this,t="989846409282-j3lkg93rcn1047hu2hh0ko5pg8rst3t3.apps.googleusercontent.com",n="https://www.googleapis.com/auth/drive.appdata";gapi.client.init({client_id:t,scope:n}).then((function(){gapi.auth2.getAuthInstance().isSignedIn.listen(e.updateSigninStatus),e.updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get())}),(function(t){e.$message.error(JSON.stringify(t,null,2))}))},updateSigninStatus:function(e){this.isSignedIn=e,e?this.read():this.state=new nt},loadDriveAPI:function(){return gapi.client.load("drive","v3")},getFileId:function(){var e=this;return gapi.client.drive.files.list({q:'name="invoices.json"',spaces:"appDataFolder",fields:"files(id)"}).then((function(t){return 0==t.result.files.length?e.create():t.result.files[0].id}))},prepare:function(){return this.loadDriveAPI().then(this.getFileId)},create:function(){return gapi.client.drive.files.create({fields:"id",resource:{name:"invoices.json",parents:["appDataFolder"]}}).then((function(e){return e.result.id}))},read:function(){var e=this;return this.prepare().then((function(t){return gapi.client.drive.files.get({fileId:t,alt:"media"}).then((function(t){t.body.length>0&&(e.state=JSON.parse(t.body))}))}))},save:function(){var e=this;this.isSignedIn&&this.prepare().then((function(t){return gapi.client.request({path:"/upload/drive/v3/files/"+t,method:"PATCH",params:{uploadType:"media"},body:JSON.stringify(e.state)})}))},signin:function(){gapi.auth2.getAuthInstance().signIn()},signout:function(){gapi.auth2.getAuthInstance().signOut()},print:function(e){this.printInvoice=e,document.title=e.reference,this.$nextTick((function(){window.print()}))}},mounted:function(){window.addEventListener("google-loaded",this.authorise)}};n("00b1");it.render=V;var ct=it;Object(c["j"])(ct).use(i["a"]).mount("#app")},a06a:function(e,t,n){},c632:function(e,t,n){"use strict";n("e3b9")},d437:function(e,t,n){},e3b9:function(e,t,n){}});
//# sourceMappingURL=app.24c0f489.js.map